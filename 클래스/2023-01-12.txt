note. 2023/01/12


[클래스 속성과 인스턴스 속성]
속성에는 클래스 속성과 인스턴스 속성 두 가지 종류가 있습니다.
__init__ 메서드에서 만들었던 속성은 인스턴스 속성입니다.

[클래스 속성 사용]
클래스에 바로 속성을 만듭니다.

    class 클래스이름:
        속성 = 값

클래스 속성은 클래스에 속해 있으며 모든 인스턴스에서 공유합니다.
모든 인스턴스가 각각 독립된 속성을 갖게하고 싶다면 인스턴스 속성으로 만들면 된다.

[클래스 속성 접근하기]
self는 현재 인스턴스를 뜻하므로 클래스 속성을 지칭하기에는 조금 모호합니다.
그래서 클래스 속성에 접근할 때는 클래스 이름으로 접근하면 좀 더 코드가 명확해집니다.
• 클래스.속성
클래스 바깥에서도 클래스 이름으로 클래스 속성에 접근할 수 있음.


[참고 | 속성, 메서드 이름을 찾는 순서]
속성, 메서드 이름을 찾을 때 인스턴스, 클래스 순으로 찾습니다.
그래서 인스턴스 속성이 없으면 클래스 속성을 찾게 된다.
인스턴스와 클래스에서 __dict__ 속성을 출력해보면 현재 인스턴스와 클래스의 속성을 딕셔너리로 확인할 수 있습니다.
• 인스턴스.__dict__
• 클래스.__dict__

정리)
- 클래스 속성: 모든 인스턴스가 공유. 인스턴스 전체가 사용해야 하는 값을 저장할 때 사용
- 인스턴스 속성: 인스턴스별로 독립되어 있음. 각 인스턴스가 값을 따로 저장해야 할 때 사용


[비공개 클래스 속성 사용]
클래스 속성도 비공개 속성을 만들 수 있습니다. 
클래스 속성을 만들 때 __속성과 같이 __(밑줄 두 개)로 시작하면 비공개 속성이 됩니다. 

    class 클래스이름:
        __속성 = 값    

따라서 클래스 안에서만 접근할 수 있고, 클래스 바깥에서는 접근할 수 없습니다.


[참고 | 클래스와 메서드의 독스트링 사용]
함수와 마찬가지로 클래스와 메서드도 독스트링을 사용할 수 있습니다.
클래스와 메서드를 만들 때 :(콜론) 바로 다음 줄에 """ """(큰따옴표 세 개) 
또는 ''' '''(작은따옴표 세 개)로 문자열을 입력하면 됩니다.


[정적 메서드]
인스턴스를 통하지 않고 클래스에서 바로 호출하는 메서드
정적 메서드는 메서드 위에 @staticmethod를 붙입니다.

    class 클래스이름:
        @staticmethod
        def 메서드(매개변수1, 매개변수2):
            코드

이때 정적 메서드는 매개변수에 self를 지정하지 않습니다.
@staticmethod처럼 앞에 @이 붙은 것을 데코레이터라고 하며 메서드(함수)에 추가 기능을 구현할 때 사용.
정적 메서드는 self를 받지 않으므로 인스턴스 속성에는 접근할 수 없습니다.
그래서 보통 정적 메서드는 인스턴스 속성, 인스턴스 메서드가 필요 없을 때 사용합니다.
정적 메서드를 호출할 때는
• 클래스.메서드()

무엇을 정적 메서드로 만들어야 할까요?
정적 메서드는 메서드의 실행이 외부 상태에 영향을 끼치지 않는 순수 함수(pure function)를 만들 때 사용합니다. 
순수 함수는 부수 효과(side effect)가 없고 입력 값이 같으면 언제나 같은 출력 값을 반환합니다.
즉, 정적 메서드는 인스턴스의 상태를 변화시키지 않는 메서드를 만들 때 사용합니다.


[참고 | 파이썬 자료형의 인스턴스 메서드와 정적 메서드]
파이썬의 자료형도 인스턴스 메서드와 정적 메서드, 클래스 메서드로 나뉘어져 있습니다. 
예를 들어 세트에 요소를 더할 때는 인스턴스 메서드를 사용하고, 합집합을 구할 때는 정적 메서드를 사용하도록 만들어져 있습니다.
>>> a = {1, 2, 3, 4}
>>> a.update({5})    # 인스턴스 메서드
>>> a
{1, 2, 3, 4, 5}
>>> set.union({1, 2, 3, 4}, {5})    # 정적(클래스) 메서드
{1, 2, 3, 4, 5}
이처럼 인스턴스의 내용을 변경해야 할 때는 update와 같이 인스턴스 메서드로 작성하면 되고, 
인스턴스 내용과는 상관없이 결과만 구하면 될 때는 set.union과 같이 정적 메서드로 작성하면 됩니다.


[클래스 메서드]
클래스 메서드는 메서드 위에 @classmethod를 붙입니다. 

    class 클래스이름:
        @classmethod
        def 메서드(cls, 매개변수1, 매개변수2):
            코드

클래스 메서드는 첫 번째 매개변수에 cls를 지정해야 합니다.
클래스 메서드를 호출할떄는
• 클래스.메서드()
cls에는 현재 클래스가 들어옵니다.
클래스 메서드는 정적 메서드처럼 인스턴스 없이 호출할 수 있다는 점은 같습니다.
하지만 클래스 메서드는 메서드 안에서 클래스 속성, 클래스 메서드에 접근해야 할 때 사용합니다.