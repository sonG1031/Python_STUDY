Date. 2023/01/08


< 변수의 사용 범위 >

[전역 변수(global variable)]
- 스크립트 전체에서 접근할 수 있는 변수
- 특히 전역 변수에 접근할 수 있는 범위를 전역 범위(global scope)라고 함.

[지역 변수(local variable)]
- 변수를 만든 함수 안에서만 접근할 수 있는 변수
- 특히 지역 변수에 접근할 수 있는 범위를 지역 범위(local scope)라고 함.


[함수 안에서 전역 변수 변경하기]
- 함수 안에서 전역 변수의 값을 변경하려면 global 키워드를 사용해야함.
- global 전역변수
- 만약 전역 변수가 없을 때 함수 안에서 global을 사용하면 해당 변수가 전역 변수가 됨.

[네임스페이스]
파이썬에서 변수는 네임스페이스(namespace, 이름공간)에 저장됨.
locals 함수를 사용하면 현재 네임스페이스를 딕셔너리 형태로 출력할 수 있음.
locals 함수의 위치에 따라서 전역 범위, 지역 범위에 해당되는 네임스페이스가 출력됨.

[함수 안에서 함수를 만드는 방법]

    def 함수이름1(): # 바깥쪽
        코드
        def 함수이름2(): # 안에 있는 함수
            코드

    [함수 안에 있는 함수에서 바깥쪽에 있는 지역 변수의 값을 변경하는 법]
    - 현재 함수의 바깥쪽에 있는 지역 변수의 값을 변경하려면 nonlocal 키워드를 사용
    - nonlocal 지역변수
    - nonlocal은 현재 함수의 지역 변수가 아니라는 뜻이며, 바깥쪽 함수의 지역 변수를 사용함.
        
        [nonlocal이 변수를 찾는 순서]
        nonlocal은 현재 함수의 바깥쪽에 있는 지역 변수를 찾을 때 가장 가까운 함수부터 먼저 찾음.
        즉, 가까운 함수부터 지역 변수를 찾고, 지역 변수가 없으면 계속 바깥쪽으로 나가서 찾습니다.

        [global로 전역 변수 사용]
        함수가 몇 단계든 상관없이 global 키워드를 사용하면 무조건 전역 변수를 사용
        파이썬에서 global을 제공하지만 함수에서 값을 주고받을 때는 매개변수와 반환값을 사용하는 것이 BEST!
        전역 변수는 가급적이면 사용하지 않는 것을 권장함.


[클로저(closure)]
- 함수를 둘러싼 환경(지역 변수, 코드 등)을 계속 유지하다가, 함수를 호출할 때 다시 꺼내서 사용하는 함수
- 클로저를 사용하면 프로그램의 흐름을 변수에 저장할 수 있음.
- 즉, 클로저는 지역 변수와 코드를 묶어서 사용하고 싶을 때 활용함.
- 클로저에 속한 지역 변수는 바깥에서 직접 접근할 수 없으므로 데이터를 숨기고 싶을 때 활용함.

[클로저의 지역 변수 변경하기]
클로저의 지역 변수를 가져오기만 했는데, 클로저의 지역 변수를 변경하고 싶다면 nonlocal을 사용하면 됨.